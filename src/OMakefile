# for debug
#CXXFLAGS += -Wall -O0 -g

# for release
CXXFLAGS += -Wall -O3 -funroll-loops

LDFLAGS += -lcv -lcxcore -lhighgui -lboost_system -lboost_filesystem -ltcmalloc

SRC[] =
	ccv
	lshforest
	dbh
	hist
	kmeans
	surf

SRC_SURF[] =
	$(SRC)
	dnn_surf

SRC_DBH[] =
	$(SRC)
	dnn_dbh

.PHONY: clean static dnn_surf dnn_dbh

dnn_surf: $(CXXProgram dnn_surf, $(SRC_SURF))
dnn_dbh: $(CXXProgram dnn_dbh, $(SRC_DBH))

clean:
        rm -f *~ *.a *.o dnn_surf dnn_dbh

.DEFAULT: static dnn_surf dnn_dbh